function withdraw ( ) public { if ( ! msg . sender . call . value ( balances [ msg . sender ] ) ( ) ) revert ( ) ; balances [ msg . sender ] = 0 ; }